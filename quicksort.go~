package main

import "fmt"

func quickSort(a []int, p, r int) []int {
	fmt.Println(p)
	if p < r {
		q := partition(a, p, r)
		quickSort(a, p, q - 1)
		quickSort(a, q + 1, r)
	}
	return a
}

func partition(a []int, p, r int) int {
	x := a[r]
	i := p - 1
	for j := p; j < r; j++ {
		if a[j] <= x {
			i = i + 1 // tradional notation
			// exchange i with j
			a[i], a[j] = a[j], a[i]
			// swap done
		}
	}
	a[i+1], a[r] = a[r], a[i+1]
	return i + 1
}

func main() {
	a := []int{9, 8, 7, 1, 3, 5, 6, 4}
	p := 0
	r := len(a) - 1
	sorted := quickSort(a, p, r)
	fmt.Println(sorted)
}
